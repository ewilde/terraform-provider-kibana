language: go
go:
- 1.10.x
install:
  - go get github.com/kardianos/govendor
services:
  - docker
script:
  - make travisbuild
deploy:
  - provider: script
    skip_cleanup: true
    script: curl -sL https://git.io/goreleaser | bash
    on:
      tags: true
      condition: $TRAVIS_OS_NAME = linux
env:
  matrix:
  - ELK_VERSION=5.5.3   KIBANA_TYPE=KibanaTypeVanilla   KIBANA_USERNAME=elastic             KIBANA_PASSWORD=changeme  ELASTIC_PACK=  MAKELOGS_VERSION=makelogs@4.0.3
  - ELK_VERSION=6.3.2   KIBANA_TYPE=KibanaTypeLogzio    KIBANA_URI=https://app-eu.logz.io   ELASTIC_SEARCH_PATH=/kibana/elasticsearch/logzioCustomerKibanaIndex  MAKELOGS_VERSION=makelogs@4.0.3
  - ELK_VERSION=6.2.1   KIBANA_TYPE=KibanaTypeVanilla  MAKELOGS_VERSION=makelogs@4.0.3
  - ELK_VERSION=6.3.2   KIBANA_TYPE=KibanaTypeVanilla  MAKELOGS_VERSION=makelogs@4.0.3
  - ELK_VERSION=6.4.1   KIBANA_TYPE=KibanaTypeVanilla  MAKELOGS_VERSION=makelogs@4.0.3
  - ELK_VERSION=7.3.1   KIBANA_TYPE=KibanaTypeVanilla  MAKELOGS_VERSION=@elastic/makelogs@4.5.0
  - ELK_VERSION=7.3.1   KIBANA_TYPE=KibanaTypeVanilla  MAKELOGS_VERSION=@elastic/makelogs@4.5.0 USE_XPACK_SECURITY=1 ELK_PACK= KIBANA_USERNAME=elastic KIBANA_PASSWORD=changeme
  global:
  - secure: uBzanAETOmx2YE00DATZXQOV7HO5dNDk7+mW84GJMRPZnUPsc9EJuWRLkygbHg6d93a/dtUpTTfqjJFDLKkNEnl8AEy3Spv431CBLris2K2g0R/UM9zr7rW1u41UW/OvWiX9jCbd+TTdX8s9cX5MA6l43uc1S/7duFgJwBWjwuWXu/x4HJ2TIimnXtRrdZE6xhli/oGjqptnca+LsaNw9tic/mBCo20MemreSiI7I0REokayiUkIuUCHFPK1jFSOIijcMmUgO3p3sfhHdFj9vumxELO620vkOm2eKR4I1uTbyy3tew7WCEKf1v5fElWREkeq87oklJ9jND+t4hWMgRHpEMYtxvcbDIq0uaDbWIcnk7clDnixGvh1oJsEW6bpZ5JIYyMVvM37p+g5QFcOZ7LD7Vgz8yo3shraZufygh7hoZQSgWbhLA5OrcAJFvfXDbGK8KoiZ4djwAhtGlExcRejsxx1csurJe68y3/7K3IAhN5xGHVr+LZWkK4Fr7u407tB9z29kkeIIf06LRIopKE7547dWmFeU+andzY0Ia+lwPce9FVhEqxi3TBM9V83f5rADRqFjXaC5IDXOLKSalJPAVdsW1a42VDIFO16g1/fnvXV7k+83yR/ebNNyS6TUESUnctqiOKpE3WaQoo/LvSxrYNZi4qzroKNiUbSMYk=
  - secure: Ou7nLxObP8fyS4E6spoV73wtlE63GkBzhfReXPjTAxDmbUX0KYyYZnvNCejknvT+aAmXNvZkw+x8+ze98DqAu5FRdyhUrvmpVgjImk31VBHEBlbnexsRP+pnXXo4RxpdJ3bv+SxXORSJZgMFK0qZOUqcxi4qyoAArJlkaVGWRYgQfw9g6J2/hb7sPE8bL/A1X9e9V4ew3x49v5p5K3SjTyeGpD0wFM0hD7+z9IMHuNTNjAQ7bmO7vlqRMM6O+qI7pEUie4vHEomexDFY+smiYq4w8vhP3DH2z1CIFPVVjymXi3LAn0nVTH+DGlrDQwQn4GfC6CN8P7r68uHzl0BDOiipvafcJ64EgAsvig7AcmsDeRfemf+qLYXmhapYKqaHJ7s/l+IuNgRiD7/ceOvG1f/hLrGYoOXE9ZbZ0nKSEtxltdc/mseaZGmbyMYr/eh7NrO+UVhUgqFYnp8N0ZTTiCT9fBopIbDAxWFIM1fDj9tu5YtEY21eILQ8dXhxpUHH0r+UKjpNVZxHxMAee5Kyf7bN+WdjdhfBq33YQ7WzouY+B50XvX8gRYheFhNDl9Tv5k4sgzG4oZiu2MeLnv8Bp8NmRY8+0aRBV58WyF6dYS4t6OpJjL/kmGswQCrif069BtNqVQsRM2P8HzhdkqA1z4lFxLaZDUGCAeeLhlDaaA8=
  - secure: nLVlgixIrjpPr5ja5EsFVF0rcp5FPz7j/EgQvw8LZzt+lFd3wAHnrVSBHXOTaxAuCvYX6xvWi/r9T5gXpuubL9LBfzQXbZa5GkLCpN1a7n2kosNzLobmZnHHnTb/tepy4tP9pApQx4Ov2kuhiB+yiriL7RnfTlhYj9Lh8+F/ygpuZShuPozT6iOghf2qGZYdBXmoSI1VbolT49kKEIC1YDwcewPR4C0UIZxL4LBpaS+NFSxOqW0wLfi+U6HUaACfnsPMoVzNRtx0dbbJqSbvB3GjXq8lG21+d0PnA27M1KJPm+6uLXDaE9ZfSwcdQzOedeOpQKKh/W2L43n5g3jz0jbWEMoRW0TXCBL6DQCGVy/oON4EnXpFOc9BOjUA2WMLSH5cqMSeqarfqXqXkCykzRGSHL3PB38/Rv+C0DBkXpLg3hHzTQlH6uKneBOOlKrb8KyxiznSiVjIP2lZujmikgFv5DGSl8FF/fQDBzwctzwlBPYcBJKSuJhzctMa0863Z4I9Y2OHonPlF1KGu9WB3ropev8wTwuG2KKaj4CcTuLuOHUMEnFixtsll8lUBz7viXk1nP6Q+jJ+0AAc5Mk7uSMXdbMBNg6LODnP6/zvADIxdxD0EtQk6kwAzU3re17WxTkNCwoLKbcguq+dW5U2qzc2SX/hYTdPfh3xGdoGxkk=
  - secure: tk2FmgZNtXpfi2U9yK0FJlslIqPWFbg48HQayjqbDJ+fT+a88Gdlw+6Uwp3RL/zcb6pKsIY3H1bzkiPReV9lnm8HhVhuvgX/0Y9cW1GlOLPeNan/MoWFCLY1sxbme8o6yrkSehU9rDm3m8R1K4AprcpTD+lO85I8t0AoPVTFaR52vyg4rQPbkvajIXaT1mIcYB3GcBPC4fsFIqz52BY4DydXrfs7t+dW/A4VrWsn/Rb00yBb2ZOsWpXvDONF8KRSj/N3HTjsF/2Om7y0CSQ22dpI7nNDar/eF/0bHR54ZWQJJsMcFDDfIf8l26MKHRylmUy9YvCW4aM/wY/dFiNcOMGbKnr3qfckBuE2zstT/Vz2f6q6u1txt0BY+GKJI3TTZHRwAurb7saFx2ZGzAUgurv3IW+7iEyzCJExfvCd7fRwMp3idGqH03AiMTCze8e8SPmv72KT1IyogesOst70VU0RgnlfAAdRAmlziaEdFT8FT8elQKz+UJJp7OE7/LXQQafjjYZXzt8GKCXAP/81H1Sp5rmzwbz2Pg2dq3xk6frjJFbuKRO5YJ/OY9BskJk8GwDW5pKCJEM/pKWHSQKxrUjOoWKOesc8hcpT0wCeuVVJkWi+2yjJ4DhkCAzTRwJRYDp9HR4ShzyksMNTkih4/IRO5DdsnV1i+pVM9nOSoQE=
  - secure: rIVjA32bCKOTztWZZrqi2PeqF6Oc+M3KbVB7omjLAKrwIVt0O2V+DEWnno28yNnE2505eKYLP/0k4hyCfygtexbn7Xc34yjdJWm1mtsApsYtVJaDD7UVTcdDfwb8HPCtQs/fLgGAGBTI/lD2siO55HgVgl5guPPgnSikeowxRjBdrj4s+r9ch4qtCagE5kVPhEO+MXqn8TTQd/WX2nC1SSG0w2yPDJ3mTvErFWMR2t6K+Xk1bv/oAURyRq0P7P21YYnrtqiLsBdYY/GMKw/RWrRVa25x/BgDCLfiqmKj5IYIIpnact8zd1wgd3rNEIMEKiUJpAake6MsAI8QSqlTNzV+81Kxhf15WIz+8rJUNshFe1BT4Rw96TcFpQ0hbjpAPGXAFf99951XOjUfR9QjQnev09T3+pUxIfkOVVSnX+hmJRGXK0oEutOSKYLDEfUKQ3iDP8UxE+rkfjer6AZu9LOpcd0Tz7Sw15SR/bi6bXiP+LJhBO+z7xzTDGJqaUpq+Z19Vd3CEJQH9PXC4oid0aaDN3lvi+RJhRJyTCmwurCtBbSCHEk6ENsnQ0cUI6o4Df6jIw+KKBlT8Np7jscZhzvmoD+F22xJ0QkvpYAsyv6YOQS4yK6MvU4ezNia8+aWLArbbPCMNWoXBCpIfmoHJZ2SYu4NmhKwMK0LzvTCXQ4=
